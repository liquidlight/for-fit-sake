/*!
 * forFitSake
 *
 * @author Mike Street
 * @copyright Liquid Light
 * @homepage https://github.com/liquidlight/for-fit-sake
 * @version 1.1.0
 * @summary Object fit fallback library
 */
!function(e){e.fn.forFitSake=function(n){var t={class:"hasForFitSake",includeDetection:!0,debug:!1};n=e.extend(t,n);var i=function(e){n.debug&&console.log(e)};i("ForFitSake.js - debug mode"),n.includeDetection&&function(e,n,t){function i(e,n){return typeof e===n}function o(e,n){return!!~(""+e).indexOf(n)}function s(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):n.createElement.apply(n,arguments)}function r(e,n,r,f){function a(){u&&(delete g.style,delete g.modElem)}if(f=!i(f,"undefined")&&f,!i(r,"undefined")){var l=nativeTestProps(e,r);if(!i(l,"undefined"))return l}for(var u,c,d,p,m,h=["modernizr","tspan","samp"];!g.style&&h.length;)u=!0,g.modElem=s(h.shift()),g.style=g.modElem.style;for(d=e.length,c=0;c<d;c++)if(p=e[c],m=g.style[p],o(p,"-")&&(p=cssToDOM(p)),g.style[p]!==t){if(f||i(r,"undefined"))return a(),"pfx"!=n||p;try{g.style[p]=r}catch(e){}if(g.style[p]!=m)return a(),"pfx"!=n||p}return a(),!1}function f(e,n,t,o,s){var f=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+p.join(f+" ")+f).split(" ");return i(n,"string")||i(n,"undefined")?r(a,n,o,s):(a=(e+" "+m.join(f+" ")+f).split(" "),testDOMProps(a,n,t))}var a=[],l={_version:"3.4.0",_config:{classPrefix:"",enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){a.push({name:e,fn:n,options:t})},addAsyncTest:function(e){a.push({name:null,fn:e})}},u=function(){};u.prototype=l,u=new u;var c=[],d="Moz O ms Webkit",p=l._config.usePrefixes?d.split(" "):[];l._cssomPrefixes=p;var m=l._config.usePrefixes?d.toLowerCase().split(" "):[];l._domPrefixes=m;var h=(n.documentElement,{elem:s("modernizr")});u._q.push(function(){delete h.elem});var g={style:h.elem.style};u._q.unshift(function(){delete g.style}),l.testAllProps=f;var y=l.prefixed=function(e,n,t){return 0===e.indexOf("@")?atRule(e):(-1!=e.indexOf("-")&&(e=cssToDOM(e)),n?f(e,n,t):f(e,"pfx"))};u.addTest("objectfit",!!y("objectFit"),{aliases:["object-fit"]}),function(){var e,n,t,o,s,r,f;for(var l in a)if(a.hasOwnProperty(l)){if(e=[],(n=a[l]).name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=i(n.fn,"function")?n.fn():n.fn,s=0;s<e.length;s++)r=e[s],1===(f=r.split(".")).length?u[f[0]]=o:(!u[f[0]]||u[f[0]]instanceof Boolean||(u[f[0]]=new Boolean(u[f[0]])),u[f[0]][f[1]]=o),c.push((o?"":"no-")+f.join("-"))}}(),delete l.addTest,delete l.addAsyncTest;for(var v=0;v<u._q.length;v++)u._q[v]();e.Modernizr=u}(window,document),Modernizr.objectfit&&!n.debug||e(this).each(function(){if(e(this).length){var t=e(this),o=t.find("img").prop("src");t.is("img")&&(i("Item is image"),o=t.prop("src"),t=t.parent()),i(t),i(o),o&&t.css({backgroundImage:"url("+o+")",backgroundRepeat:"no-repeat"}).addClass(n.class)}})}}(jQuery);